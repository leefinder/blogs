<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
	</head>
	<body>
	<script>
		function a (fn, c) {
			let _c = c;
			let i = 0;
			return function () {
				if (i < _c) {
					fn();
				}
				i++;
			}
		}
		function b () {
			console.log(111)
		}
		let c = a(b, 3);
		c();
		c();
		c();
		
		function d (n) {
			let promise = new Promise((resolve, reject) => {
				if (n == 5) {
					resolve();
				} else {
					throw new Error('error')
				}
			})
			promise.then(() => {
				console.log('promise')
			}).catch(() => {
				console.log('catch-in')
			})
			return promise;
		}
		let e = d(55);
		e.then(() => {
			console.log('promise1')
		}).catch(() => {
			console.log('catch-out')
		})
		let f = Promise.reject().catch(() => {})
		let g = Promise.reject().catch(() => {})
		Promise.all([f, g]).then(() => {
			console.log('all')
		})
		let h = Promise.reject();
		let i = h.then().catch(() => {
			console.log('h-catch-1')
		}).catch(() => {
			console.log('h-catch-2')
		})
		console.log(h)
		console.log(i)
		i.then(() => {
			console.log('i-then')
		})
// 		Promise.reject().catch(() => {
// 			console.log('catch-1')
// 		}).catch(() => {
// 			console.log('catch-2')
// 		}).finally(() => {
// 			console.log('finally')
// 		})
	Promise.reject().catch(() => {
		
	}).catch(() => {
		console.log('catch-then')
	}).then(() => {
		console.log('then-catch-resolve')
	}, () => {
		console.log('then-catch-reject')
	})
	</script>	
	</body>
</html>